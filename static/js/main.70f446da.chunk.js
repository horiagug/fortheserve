(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(16),o=n.n(r),i=(n(31),n(1)),c=n(2),u=n(4),s=n(3),m=n(5),d=(n(32),n(23)),h=n(11),p=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Home"),l.a.createElement("p",null," Mini project for yousician employees to keep ping pong scores at work"))}}]),t}(a.Component),b=n(15),f=n(6),E=function(){return fetch("/api/players",{method:"GET"}).then(function(e){return e.json()})},y=function(e){return fetch("/api/players/"+e,{method:"GET"}).then(function(e){return e.json()})},v=function(e){var t={name:e};return fetch("/api/players",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},j=function(e){return fetch("/api/players/"+e,{method:"DELETE"}).then(function(e){return e.text()})},O=function(){return fetch("/api/games",{method:"GET"}).then(function(e){return e.json()})},g=function(e,t,n){var a={winner_id:e,loser_id:t};return n&&(a.date=n),fetch("/api/games",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.error(e)})},w=function(e){return fetch("/api/games/"+e,{method:"DELETE"}).then(function(e){return e.text()})},S=n(14),k=(n(21),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).delete=function(e){Object(S.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this player?",buttons:[{label:"Yes",onClick:function(){return n.onDelete(e)}},{label:"No"}]})},n.state={players:[]},n.onDelete=n.onDelete.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})})}},{key:"onDelete",value:function(e){var t=this;j(e).then(function(n){var a=Object(b.a)(t.state.players);a=a.filter(function(t){return t.id!==e}),t.setState({players:a})})}},{key:"render",value:function(){var e=this;return this.state.players.sort(function(e,t){return t.elo-e.elo}),l.a.createElement("div",{className:"Leaderboard"},l.a.createElement("h2",null,"Leaderboard"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Player"),l.a.createElement("th",null,"ELO"),l.a.createElement("th",null,"Delete")),this.state.players.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.elo),l.a.createElement("td",null," ",l.a.createElement("button",{onClick:e.delete.bind(e,t.id)},"Delete")," "))}))))}}]),t}(a.Component)),_=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={name:n.props.name?n.props.name:"Select Player"},n.showMenu=n.showMenu.bind(Object(f.a)(Object(f.a)(n))),n.closeMenu=n.closeMenu.bind(Object(f.a)(Object(f.a)(n))),n.handleSelect=n.handleSelect.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},function(){document.addEventListener("click",t.closeMenu)})}},{key:"closeMenu",value:function(e){var t=this;this.dropdownWinner.contains(e.target)||this.setState({showMenu:!1},function(){document.removeEventListener("click",t.closeMenu)})}},{key:"handleSelect",value:function(e,t){var n=this;this.props.onPlayerSelected(e),this.setState({name:t,showMenu:!1},function(){document.removeEventListener("click",n.closeMenu)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("button",{onClick:this.showMenu,disabled:this.props.disabled}," ",this.state.name," "),this.state.showMenu?l.a.createElement("div",{className:"menu",ref:function(t){e.dropdownWinner=t}},this.props.players.map(function(t){return l.a.createElement("button",{key:t.id,onClick:e.handleSelect.bind(e,t.id,t.name)}," ",t.name," ")})):null)}}]),t}(a.Component),C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={players:[],winner:null,loser:null,added:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})})}},{key:"onPlayerSelected",value:function(e){null==this.state.winner?this.setState({winner:e}):this.setState({loser:e})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),g(this.state.winner,this.state.loser).then(function(e){e.hasOwnProperty("_id")&&(t.setState({added:!0,winner:null,loser:null}),window.location.reload())})}},{key:"renderMessage",value:function(){return this.state.added?l.a.createElement("p",{color:"green"}," Game Added successfully "):l.a.createElement("p",{color:"black"}," Add a game below: ")}},{key:"render",value:function(){var e=null!=this.state.winner,t=null!=this.state.winner&&null!=this.state.loser;return l.a.createElement("div",null,l.a.createElement("h2",null," Add Game "),this.renderMessage(),l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement(_,{players:this.state.players,name:"Select Winning Player",onPlayerSelected:this.onPlayerSelected.bind(this),disabled:!1}),l.a.createElement(_,{players:this.state.players,name:"Select Losing Player",onPlayerSelected:this.onPlayerSelected.bind(this),disabled:!e}),l.a.createElement("button",{disabled:!t,type:"submit"},"Submit Game")))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleNameChange=function(e){n.setState({playerName:e.target.value})},n.state={playerName:"",added:!1},n.onSubmit=n.onSubmit.bind(Object(f.a)(Object(f.a)(n))),n.handleNameChange=n.handleNameChange.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),v(this.state.playerName).then(function(e){e.hasOwnProperty("_id")&&(t.setState({added:!0,playerName:""}),window.location.reload())})}},{key:"canBeSubmitted",value:function(){return this.state.playerName.length>0}},{key:"render",value:function(){var e=this.canBeSubmitted();return l.a.createElement("div",null,l.a.createElement("h2",null," Add Player "),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement("input",{placeholder:"Player name",type:"text",value:this.state.playerName,onChange:this.handleNameChange}),l.a.createElement("button",{disabled:!e,type:"submit"}," Submit ")))}}]),t}(a.Component),M=(n(35),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={_id:"",name:"",elo:""},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;y(this.props._id).then(function(t){t.map(function(t){e.setState({_id:t._id,name:t.name,elo:t.elo})})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"Player"},l.a.createElement("span",null,this.state.name))}}]),t}(a.Component)),N=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).delete=function(){Object(S.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this game?",buttons:[{label:"Yes",onClick:function(){return n.onDelete()}},{label:"No"}]})},n.state={deleted:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onDelete",value:function(){this.props.deleteGame(this.props._id),this.setState({deleted:!0})}},{key:"render",value:function(){var e=new Date(this.props.date).toLocaleString();return l.a.createElement("tr",{className:"Game"},l.a.createElement("td",null," ",l.a.createElement(M,{_id:this.props.winner_id})),l.a.createElement("td",{color:"green"}," +",this.props.winner_elo_change," "),l.a.createElement("td",null," ",l.a.createElement(M,{_id:this.props.loser_id})," "),l.a.createElement("td",{color:"red"}," ",this.props.loser_elo_change),l.a.createElement("td",null,e),l.a.createElement("td",null," ",l.a.createElement("button",{onClick:this.delete.bind(this)},"Delete ")))}}]),t}(a.Component),P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={games:[],deleted:!1},n.deleteGame=n.deleteGame.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;O().then(function(t){var n=t.map(function(t){return l.a.createElement(N,{key:t._id,_id:t._id,date:t.date,winner_id:t.winner_id,loser_id:t.loser_id,winner_elo_change:t.winner_elo_change,loser_elo_change:t.loser_elo_change,deleteGame:e.deleteGame})});e.setState({games:n})})}},{key:"deleteGame",value:function(e){var t=this;w(e).then(function(n){var a=Object(b.a)(t.state.games);a=a.filter(function(t){return t.props._id!==e}),t.setState({games:a,deleted:!0})})}},{key:"render",value:function(){return this.state.games.sort(function(e,t){return new Date(t.props.date)-new Date(e.props.date)}),l.a.createElement("div",{className:"RecentGames"},l.a.createElement("h2",null,"Recent Games"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Winner"),l.a.createElement("th",null,"Elo Change"),l.a.createElement("th",null,"Looser"),l.a.createElement("th",null,"Elo Change"),l.a.createElement("th",null,"Played on"),l.a.createElement("th",null,"Delete")),this.state.games)))}}]),t}(a.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p,null),l.a.createElement("br",null),l.a.createElement(P,null),l.a.createElement("br",null),l.a.createElement(k,null),l.a.createElement("br",null),l.a.createElement(C,null),l.a.createElement("br",null),l.a.createElement(D,null))}}]),t}(a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"app-container"},l.a.createElement("h1",null," For The Serve "),l.a.createElement(d.a,null,l.a.createElement(h.a,{path:"/",component:G,onEnter:function(){document.getElementById("home_id").scrollIntoView()}}),l.a.createElement(h.a,{path:"/leaderboard",component:G,onEnter:function(){document.getElementById("leaderboard_id").scrollIntoView()}}),l.a.createElement(h.a,{path:"/recentgames",component:G,onEnter:function(){document.getElementById("recent_games").scrollIntoView()}}),l.a.createElement(h.a,{path:"/addgame",component:G,onEnter:function(){document.getElementById("addgame_id").scrollIntoView()}}),l.a.createElement(h.a,{path:"/playermanagement",component:G,onEnter:function(){document.getElementById("playermanagement_id").scrollIntoView()}})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.70f446da.chunk.js.map