(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},31:function(e,t,n){},32:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a,l=n(0),r=n.n(l),o=n(16),c=n.n(o),i=(n(31),n(1)),u=n(2),s=n(4),m=n(3),d=n(5),h=(n(32),n(23)),p=n(11),b=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement("p",null," Mini project for yousician employees to keep ping pong scores at work"))}}]),t}(l.Component),f=n(15),E=n(6);a="https://fortheserve.herokuapp.com";var y=function(){return fetch(a+"/api/players",{method:"GET"}).then(function(e){return e.json()})},v=function(e){return fetch("/api/players/"+e,{method:"GET"}).then(function(e){return e.json()})},j=function(e){var t={name:e};return fetch("/api/players",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},O=function(e){return fetch("/api/players/"+e,{method:"DELETE"}).then(function(e){return e.text()})},g=function(){return fetch("/api/games",{method:"GET"}).then(function(e){return e.json()})},w=function(e,t,n){var a={winner_id:e,loser_id:t};return n&&(a.date=n),fetch("/api/games",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.error(e)})},S=function(e){return fetch("/api/games/"+e,{method:"DELETE"}).then(function(e){return e.text()})},k=n(14),_=(n(21),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).delete=function(e){Object(k.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this player?",buttons:[{label:"Yes",onClick:function(){return n.onDelete(e)}},{label:"No"}]})},n.state={players:[]},n.onDelete=n.onDelete.bind(Object(E.a)(Object(E.a)(n))),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;y().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})})}},{key:"onDelete",value:function(e){var t=this;O(e).then(function(n){var a=Object(f.a)(t.state.players);a=a.filter(function(t){return t.id!==e}),t.setState({players:a})})}},{key:"render",value:function(){var e=this;return this.state.players.sort(function(e,t){return t.elo-e.elo}),r.a.createElement("div",{className:"Leaderboard"},r.a.createElement("h2",null,"Leaderboard"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Player"),r.a.createElement("th",null,"ELO"),r.a.createElement("th",null,"Delete")),this.state.players.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.elo),r.a.createElement("td",null," ",r.a.createElement("button",{onClick:e.delete.bind(e,t.id)},"Delete")," "))}))))}}]),t}(l.Component)),C=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={name:n.props.name?n.props.name:"Select Player"},n.showMenu=n.showMenu.bind(Object(E.a)(Object(E.a)(n))),n.closeMenu=n.closeMenu.bind(Object(E.a)(Object(E.a)(n))),n.handleSelect=n.handleSelect.bind(Object(E.a)(Object(E.a)(n))),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"showMenu",value:function(e){var t=this;e.preventDefault(),this.setState({showMenu:!0},function(){document.addEventListener("click",t.closeMenu)})}},{key:"closeMenu",value:function(e){var t=this;this.dropdownWinner.contains(e.target)||this.setState({showMenu:!1},function(){document.removeEventListener("click",t.closeMenu)})}},{key:"handleSelect",value:function(e,t){var n=this;this.props.onPlayerSelected(e),this.setState({name:t,showMenu:!1},function(){document.removeEventListener("click",n.closeMenu)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.showMenu,disabled:this.props.disabled}," ",this.state.name," "),this.state.showMenu?r.a.createElement("div",{className:"menu",ref:function(t){e.dropdownWinner=t}},this.props.players.map(function(t){return r.a.createElement("button",{key:t.id,onClick:e.handleSelect.bind(e,t.id,t.name)}," ",t.name," ")})):null)}}]),t}(l.Component),D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={players:[],winner:null,loser:null,added:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;y().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})})}},{key:"onPlayerSelected",value:function(e){null==this.state.winner?this.setState({winner:e}):this.setState({loser:e})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),w(this.state.winner,this.state.loser).then(function(e){e.hasOwnProperty("_id")&&(t.setState({added:!0,winner:null,loser:null}),window.location.reload())})}},{key:"renderMessage",value:function(){return this.state.added?r.a.createElement("p",{color:"green"}," Game Added successfully "):r.a.createElement("p",{color:"black"}," Add a game below: ")}},{key:"render",value:function(){var e=null!=this.state.winner,t=null!=this.state.winner&&null!=this.state.loser;return r.a.createElement("div",null,r.a.createElement("h2",null," Add Game "),this.renderMessage(),r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(C,{players:this.state.players,name:"Select Winning Player",onPlayerSelected:this.onPlayerSelected.bind(this),disabled:!1}),r.a.createElement(C,{players:this.state.players,name:"Select Losing Player",onPlayerSelected:this.onPlayerSelected.bind(this),disabled:!e}),r.a.createElement("button",{disabled:!t,type:"submit"},"Submit Game")))}}]),t}(l.Component),M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleNameChange=function(e){n.setState({playerName:e.target.value})},n.state={playerName:"",added:!1},n.onSubmit=n.onSubmit.bind(Object(E.a)(Object(E.a)(n))),n.handleNameChange=n.handleNameChange.bind(Object(E.a)(Object(E.a)(n))),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),j(this.state.playerName).then(function(e){e.hasOwnProperty("_id")&&(t.setState({added:!0,playerName:""}),window.location.reload())})}},{key:"canBeSubmitted",value:function(){return this.state.playerName.length>0}},{key:"render",value:function(){var e=this.canBeSubmitted();return r.a.createElement("div",null,r.a.createElement("h2",null," Add Player "),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{placeholder:"Player name",type:"text",value:this.state.playerName,onChange:this.handleNameChange}),r.a.createElement("button",{disabled:!e,type:"submit"}," Submit ")))}}]),t}(l.Component),N=(n(35),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={_id:"",name:"",elo:""},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;v(this.props._id).then(function(t){t.map(function(t){e.setState({_id:t._id,name:t.name,elo:t.elo})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Player"},r.a.createElement("span",null,this.state.name))}}]),t}(l.Component)),P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).delete=function(){Object(k.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this game?",buttons:[{label:"Yes",onClick:function(){return n.onDelete()}},{label:"No"}]})},n.state={deleted:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"onDelete",value:function(){this.props.deleteGame(this.props._id),this.setState({deleted:!0})}},{key:"render",value:function(){var e=new Date(this.props.date).toLocaleString();return r.a.createElement("tr",{className:"Game"},r.a.createElement("td",null," ",r.a.createElement(N,{_id:this.props.winner_id})),r.a.createElement("td",{color:"green"}," +",this.props.winner_elo_change," "),r.a.createElement("td",null," ",r.a.createElement(N,{_id:this.props.loser_id})," "),r.a.createElement("td",{color:"red"}," ",this.props.loser_elo_change),r.a.createElement("td",null,e),r.a.createElement("td",null," ",r.a.createElement("button",{onClick:this.delete.bind(this)},"Delete ")))}}]),t}(l.Component),G=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={games:[],deleted:!1},n.deleteGame=n.deleteGame.bind(Object(E.a)(Object(E.a)(n))),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;g().then(function(t){var n=t.map(function(t){return r.a.createElement(P,{key:t._id,_id:t._id,date:t.date,winner_id:t.winner_id,loser_id:t.loser_id,winner_elo_change:t.winner_elo_change,loser_elo_change:t.loser_elo_change,deleteGame:e.deleteGame})});e.setState({games:n})})}},{key:"deleteGame",value:function(e){var t=this;S(e).then(function(n){var a=Object(f.a)(t.state.games);a=a.filter(function(t){return t.props._id!==e}),t.setState({games:a,deleted:!0})})}},{key:"render",value:function(){return this.state.games.sort(function(e,t){return new Date(t.props.date)-new Date(e.props.date)}),r.a.createElement("div",{className:"RecentGames"},r.a.createElement("h2",null,"Recent Games"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Winner"),r.a.createElement("th",null,"Elo Change"),r.a.createElement("th",null,"Looser"),r.a.createElement("th",null,"Elo Change"),r.a.createElement("th",null,"Played on"),r.a.createElement("th",null,"Delete")),this.state.games)))}}]),t}(l.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("br",null),r.a.createElement(G,null),r.a.createElement("br",null),r.a.createElement(_,null),r.a.createElement("br",null),r.a.createElement(D,null),r.a.createElement("br",null),r.a.createElement(M,null))}}]),t}(l.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement("h1",null," For The Serve "),r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/",component:I,onEnter:function(){document.getElementById("home_id").scrollIntoView()}}),r.a.createElement(p.a,{path:"/leaderboard",component:I,onEnter:function(){document.getElementById("leaderboard_id").scrollIntoView()}}),r.a.createElement(p.a,{path:"/recentgames",component:I,onEnter:function(){document.getElementById("recent_games").scrollIntoView()}}),r.a.createElement(p.a,{path:"/addgame",component:I,onEnter:function(){document.getElementById("addgame_id").scrollIntoView()}}),r.a.createElement(p.a,{path:"/playermanagement",component:I,onEnter:function(){document.getElementById("playermanagement_id").scrollIntoView()}})))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.d78d496b.chunk.js.map