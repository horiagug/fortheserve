(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),i=n.n(l),o=(n(62),n(4)),c=n(5),s=n(7),u=n(6),p=n(8),d=(n(63),n(53)),m=n(18),h=n(10),f=n(22),y=n(1),b=n(2),v=n(3);function O(){var e=Object(b.a)(["\nflex: 1 100%;\ntext-align: center;\n"]);return O=function(){return e},e}function g(){var e=Object(b.a)(["\nmargin: auto;\nline-height: 1.5;\ncolor: #fff;\nfont-size: 1.2rem;\ntext-align: center;\nflex: 1 100%;\nfont-weight: 500;\n"]);return g=function(){return e},e}function j(){var e=Object(b.a)(["\n    color: white;\n    background: url(https://images.unsplash.com/photo-1511067007398-7e4b90cfa4bc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1049&q=80);\n    background-size: cover;\n    background-position: center; \n    height: 30rem;\n    display: flex;  \n    flex-flow: row wrap;\n   align-content: center;\n"]);return j=function(){return e},e}var E=v.a.div(j()),_=v.a.p(g()),k=v.a.div(O());function w(){var e=Object(b.a)(["\n    margin: 20px, auto;\n    text-transform: uppercase;\n    line-height: 1;\n    font-size:2 rem;\n    font-weight: 600;\n    text-align: center;\n    flex: 1 100%"]);return w=function(){return e},e}function x(){var e=Object(b.a)(["\n    margin: auto;\n    text-transform: uppercase;\n    line-height: 1;\n    font-size: 2.8rem;\n    font-weight: 800;\n    color: ","\n    text-align: center;\n    flex: 1 100%;\n"]);return x=function(){return e},e}var S=v.a.h1(x(),function(e){return e.dark?"#000":"#fff"}),P=v.a.h2(w());function C(){var e=Object(b.a)(["\n  background: ",";\n  \n  color: white;\n  font-size: 0.9rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  letter-spacing: 0.5px;\n  text-align: center;\n\n  @media only scrreen and (min-width: 768px) {\n    ","\n  }\n  \n  margin: 1em;\n  padding: 0.25em 1em;\n  border: ",";\n  border-radius : 100px;\n  transition: background 0.5s;\n\n  :hover {\n      background: ","\n      color: ",";\n  }\n"]);return C=function(){return e},e}var G=v.a.button(C(),function(e){return e.primary?"#6fc13e":"#0002"},function(e){return e.xs?"font-size: 1vw":"font-size: 1rem"},function(e){return e.primary?"2px solid transparent":"2px solid white"},function(e){return e.primary?"#1c880d":"white"},function(e){return e.primary?"white":"black"}),A=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement(S,null,"For The Serve"),r.a.createElement(_,null," Ping pong game score keeping app."),r.a.createElement(k,null,r.a.createElement(G,{primary:!0,onClick:this.props.openModal}," Add A Game ")))}}]),t}(a.Component);n(39);function M(){var e=Object(b.a)(["\n   text-align: center;\n   border-bottom: 2px dashed rgba(192, 192, 192, .3);\n"]);return M=function(){return e},e}function N(){var e=Object(b.a)(["\n   height: 2.5rem;\n"]);return N=function(){return e},e}function D(){var e=Object(b.a)(["\n   margin: auto;\n   width: 75%\n"]);return D=function(){return e},e}function B(){var e=Object(b.a)(["\n   background: #f0f0f0;\n   margin: auto;\n   width:13%\n   text-align: center;\n\n"]);return B=function(){return e},e}var T,L=v.a.th(B()),R=v.a.table(D()),U=v.a.tr(N()),z=v.a.td(M()),I=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.props.players.sort(function(e,t){return t.elo-e.elo}),r.a.createElement("div",{className:"Leaderboard"},r.a.createElement(P,null,"Leaderboard"),r.a.createElement(R,null,r.a.createElement("tbody",null,r.a.createElement(U,null,r.a.createElement(L,null,"Player"),r.a.createElement(L,null,"ELO"),this.props.isAdmin&&r.a.createElement(L,null,"Delete")),this.props.players.map(function(t){return r.a.createElement(U,{key:t.id},r.a.createElement(z,null,t.name),r.a.createElement(z,null,t.elo),e.props.isAdmin&&r.a.createElement(z,null," ",r.a.createElement(G,{onClick:function(){e.props.delete(t.id)}},r.a.createElement("i",{className:"far fa-trash-alt"}))," "))}))))}}]),t}(a.Component);T="https://fortheserve.herokuapp.com";var J=function(){return fetch(T+"/api/players",{method:"GET"}).then(function(e){return e.json()})},W=function(e){var t={name:e};return fetch(T+"/api/players",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},F=function(e){return fetch(T+"/api/players/"+e,{method:"DELETE"}).then(function(e){return e.text()})},H=function(){return fetch(T+"/api/games",{method:"GET"}).then(function(e){return e.json()})},Y=function(e,t,n){var a={winner_id:e,loser_id:t};return n&&(a.date=n),fetch(T+"/api/games",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.error(e)})},q=function(e){return fetch(T+"/api/games/"+e,{method:"DELETE"}).then(function(e){return e.text()})};function Q(){var e=Object(b.a)(["\ntext-align: center;\nmargin: 2px, auto;\nwidth:30%;\nheight:1.5rem;\n"]);return Q=function(){return e},e}function $(){var e=Object(b.a)(["\n    margin:auto;\n    display: flex;\n    flex-flow: row wrap;\n    align-items: center;\n    justify-content: center;\n"]);return $=function(){return e},e}var K=v.a.form($()),V=v.a.input(Q()),X=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleNameChange=function(e){n.setState({playerName:e.target.value})},n.state={playerName:"",added:!1},n.onSubmit=n.onSubmit.bind(Object(y.a)(Object(y.a)(n))),n.handleNameChange=n.handleNameChange.bind(Object(y.a)(Object(y.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),W(this.state.playerName).then(function(e){e.hasOwnProperty("_id")&&(t.setState({added:!0,playerName:""}),window.location.reload())})}},{key:"canBeSubmitted",value:function(){return this.state.playerName.length>0}},{key:"render",value:function(){var e=this.canBeSubmitted();return r.a.createElement("div",null,r.a.createElement(P,null," Add Player "),r.a.createElement(K,{onSubmit:this.onSubmit},r.a.createElement(V,{placeholder:"Player name",type:"text",value:this.state.playerName,onChange:this.handleNameChange}),r.a.createElement(G,{primary:!0,disabled:!e,type:"submit"}," Submit ")))}}]),t}(a.Component),Z=n(20),ee=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).delete=function(){Object(Z.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this game?",buttons:[{label:"Yes",onClick:function(){return n.onDelete()}},{label:"No"}]})},n.state={deleted:!1,winner:null,loser:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"onDelete",value:function(){this.props.deleteGame(this.props._id),this.setState({deleted:!0})}},{key:"componentDidMount",value:function(){for(var e,t,n=0;n<this.props.players.length;n++)this.props.players[n].id===this.props.winner_id&&(e=r.a.createElement("div",{className:"Player"},r.a.createElement("span",null,this.props.players[n].name))),this.props.players[n].id===this.props.loser_id&&(t=r.a.createElement("div",{className:"Player"},r.a.createElement("span",null,this.props.players[n].name))),this.setState({winner:e,loser:t})}},{key:"render",value:function(){return r.a.createElement(U,{className:"Game"},r.a.createElement(z,null," ",this.state.winner),r.a.createElement(z,{style:{color:"green"}}," +",this.props.winner_elo_change," "),r.a.createElement(z,null,this.state.loser," "),r.a.createElement(z,{style:{color:"red"}}," ",this.props.loser_elo_change),this.props.isAdmin&&r.a.createElement(z,null," ",r.a.createElement(G,{onClick:this.delete.bind(this)},r.a.createElement("i",{className:"far fa-trash-alt"})," ")))}}]),t}(a.Component),te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"RecentGames"},r.a.createElement(P,null,"Recent Games"),r.a.createElement(R,null,r.a.createElement("tbody",null,r.a.createElement(U,null,r.a.createElement(L,null,"Winner"),r.a.createElement(L,null,"Elo Change"),r.a.createElement(L,null,"Looser"),r.a.createElement(L,{id:"loser_elo"},"Elo Change"),this.props.isAdmin&&r.a.createElement(L,null,"Delete")),this.props.games.map(function(t){return r.a.createElement(ee,{key:t._id,_id:t._id,winner_id:t.winner_id,loser_id:t.loser_id,winner_elo_change:t.winner_elo_change,loser_elo_change:t.loser_elo_change,deleteGame:t.deleteGame,isAdmin:e.props.isAdmin,players:e.props.players})}))))}}]),t}(a.Component);function ne(){var e=Object(b.a)(["\ndisplay: flex;\nflex-wrap: wrap;\nalign-content:flex-end;\njustify-content: space-around;\nheight: 15%\n"]);return ne=function(){return e},e}function ae(){var e=Object(b.a)(["\nborder: 0;\nwidth: 1px;\nmargin: 1px 0;\nbackground-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));\n"]);return ae=function(){return e},e}function re(){var e=Object(b.a)(["\nflex: 1 50%;\ntext-align: center;\njustify-content: space-around;\n"]);return re=function(){return e},e}function le(){var e=Object(b.a)(["\nflex: 1 48%\nalign-content: center;\n"]);return le=function(){return e},e}function ie(){var e=Object(b.a)(["\ndisplay: flex;  \nflex-flow: row wrap;\nalign-content: center;\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\n    display: flex;  \n    flex-flow: row wrap;\n   align-content: center;\n"]);return oe=function(){return e},e}var ce=v.a.div(oe()),se=v.a.div(ie()),ue=v.a.div(le()),pe=v.a.div(re()),de=v.a.div(ae()),me=v.a.div(ne()),he=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return 1!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement(se,null,r.a.createElement(ue,null,r.a.createElement(P,null,"Select Players"),this.props.players.map(function(t){return r.a.createElement(G,{xs:!0,player:!0,key:t.id,onClick:function(){e.props.onClick(t.id,t.name)}},t.name)})),r.a.createElement(de,null),r.a.createElement(ue,null,r.a.createElement(P,null,"Selected Players"),this.props.selectedPlayers.map(function(t){return r.a.createElement(G,{player:!0,key:t.id,onClick:function(){e.props.onClick(t.id,t.name)}},t.name)}))))}}]),t}(a.Component),fe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return 2!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ce,null,r.a.createElement(pe,null,r.a.createElement(P,null,this.props.selectedPlayers[0].name," "),r.a.createElement(P,null,this.props.player1_score," "),r.a.createElement(G,{xs:!0,primary:!0,onClick:function(){e.props.addGame(e.props.selectedPlayers[0].id,e.props.selectedPlayers[1].id)}},"Add")),r.a.createElement(pe,null,r.a.createElement(P,null,this.props.selectedPlayers[1].name," "),r.a.createElement(P,null,this.props.player2_score," "),r.a.createElement(G,{xs:!0,primary:!0,onClick:function(){e.props.addGame(e.props.selectedPlayers[1].id,e.props.selectedPlayers[0].id)}},"Add"))),this.removeGameButton))}}]),t}(a.Component),ye=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={currentStep:1,players:[],player1_score:0,player2_score:0,games:[]},n.handleSelection=n.handleSelection.bind(Object(y.a)(Object(y.a)(n))),n.addOrRemovePlayer=n.addOrRemovePlayer.bind(Object(y.a)(Object(y.a)(n))),n.addGame=n.addGame.bind(Object(y.a)(Object(y.a)(n))),n.removeGame=n.removeGame.bind(Object(y.a)(Object(y.a)(n))),n.addGameToList=n.addGameToList.bind(Object(y.a)(Object(y.a)(n))),n._next=n._next.bind(Object(y.a)(Object(y.a)(n))),n._prev=n._prev.bind(Object(y.a)(Object(y.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"_next",value:function(){var e=this.state.currentStep;e=e>=1?2:e+1,this.setState({currentStep:e})}},{key:"_prev",value:function(){var e=this.state.currentStep;e=e<=1?1:e-1,this.setState({currentStep:e})}},{key:"addOrRemovePlayer",value:function(e,t,n){for(var a=-1,r=0;r<e.length;r++)e[r].id===t.id&&(a=r);return-1!==a?e.splice(a,1):n||e.push(t),e}},{key:"addGameToList",value:function(e,t,n){var a={id:t,winner:n};return e.push(a),e}},{key:"handleSelection",value:function(e,t){var n=this.state.players.slice(),a={name:t,id:e};0===n.length?n.push(a):n=2===n.length?this.addOrRemovePlayer(n,a,!0):this.addOrRemovePlayer(n,a,!1),this.setState({players:n})}},{key:"addGame",value:function(e,t){var n=this;Y(e,t).then(function(t){if(t.hasOwnProperty("_id")){var a=n.state.games.slice();if(e===n.state.players[0].id){var r=n.state.player1_score+1;a=n.addGameToList(a,t._id,"player_1"),n.setState({player1_score:r,games:a})}else{var l=n.state.player2_score+1;a=n.addGameToList(a,t._id,"player_2"),n.setState({player2_score:l,games:a})}}})}},{key:"removeGame",value:function(){var e=this;if(0===this.state.games.length)alert("Something went wrong");else{var t=this.state.games.slice(),n=t.pop();q(n.id).then(function(a){if("player_1"===n.winner){var r=e.state.player1_score-1;e.setState({games:t,player1_score:r})}else{var l=e.state.player2_score-1;e.setState({games:t,player2_score:l})}})}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{dark:!0},"Add games"),r.a.createElement(he,{currentStep:this.state.currentStep,onClick:this.handleSelection,players:this.props.players,selectedPlayers:this.state.players}),r.a.createElement(fe,{currentStep:this.state.currentStep,selectedPlayers:this.state.players,player1_score:this.state.player1_score,player2_score:this.state.player2_score,addGame:this.addGame,removeGame:this.removeGame}),r.a.createElement(me,null,this.previousButton,this.nextButton,this.removeGameButton,this.finishButton))}},{key:"previousButton",get:function(){return 1!==this.state.currentStep&&0===this.state.player1_score&&0===this.state.player2_score?r.a.createElement(G,{onClick:this._prev}," Previous "):null}},{key:"nextButton",get:function(){return this.state.currentStep<2&&2===this.state.players.length?r.a.createElement(G,{primary:!0,onClick:this._next}," Next  "):null}},{key:"removeGameButton",get:function(){return 2!==this.state.currentStep||0===this.state.player1_score&&0===this.state.player2_score?null:r.a.createElement(G,{onClick:this.removeGame}," Remove Game  ")}},{key:"finishButton",get:function(){return 2===this.state.currentStep?r.a.createElement(G,{onClick:this.props.closeModal}," Finish  "):null}}]),t}(a.Component),be=n(35),ve=n.n(be);n(75);ve.a.setAppElement("#root");var Oe=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).deletePlayerPopUp=function(e){Object(Z.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this player?",buttons:[{label:"Yes",onClick:function(){return n.onDeletePlayer(e)}},{label:"No"}]})},n.showModalHandler=function(e){n.setState({showModal:!0})},n.hideModalHandler=function(e){n.setState({showModal:!1})},n.state={players:[],games:[],gameAdded:!1,showModal:!1,modalIsOpen:!1},n.deleteGame=n.deleteGame.bind(Object(y.a)(Object(y.a)(n))),n.onDeletePlayer=n.onDeletePlayer.bind(Object(y.a)(Object(y.a)(n))),n.deletePlayerPopUp=n.deletePlayerPopUp.bind(Object(y.a)(Object(y.a)(n))),n.openModal=n.openModal.bind(Object(y.a)(Object(y.a)(n))),n.afterOpenModal=n.afterOpenModal.bind(Object(y.a)(Object(y.a)(n))),n.closeModal=n.closeModal.bind(Object(y.a)(Object(y.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;J().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})}),H().then(function(t){var n=t.map(function(t){return{key:t._id,_id:t._id,winner_id:t.winner_id,loser_id:t.loser_id,winner_elo_change:t.winner_elo_change,loser_elo_change:t.loser_elo_change,deleteGame:e.deleteGame,isAdmin:!1}});e.setState({games:n})})}},{key:"deleteGame",value:function(e){var t=this;q(e).then(function(n){var a=Object(f.a)(t.state.games);a=a.filter(function(t){return t.props._id!==e}),t.setState({games:a,deleted:!0})})}},{key:"onDeletePlayer",value:function(e){var t=this;F(e).then(function(n){var a=Object(f.a)(t.state.players);a=a.filter(function(t){return t.id!==e}),t.setState({players:a})})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,{openModal:this.openModal}),r.a.createElement("br",null),r.a.createElement(ve.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,contentLabel:"Add Player Modal",style:{overlay:{},content:{background:"#fff",top:"12%",left:"5%",right:"5%",bottom:"12%",padding:"20px"}}},r.a.createElement(ye,{players:this.state.players,closeModal:this.closeModal})),r.a.createElement(I,{players:this.state.players,delete:this.deletePlayerPopUp}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(te,{games:this.state.games,players:this.state.players,isAdmin:!1}),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(X,null))}}]),t}(a.Component),ge=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).deletePlayerPopUp=function(e){Object(Z.confirmAlert)({title:"Confirm to submit",message:"Are you sure you want to delete this player?",buttons:[{label:"Yes",onClick:function(){return n.onDeletePlayer(e)}},{label:"No"}]})},n.state={players:[],games:[],gameAdded:!1},n.deleteGame=n.deleteGame.bind(Object(y.a)(Object(y.a)(n))),n.onDeletePlayer=n.onDeletePlayer.bind(Object(y.a)(Object(y.a)(n))),n.deletePlayerPopUp=n.deletePlayerPopUp.bind(Object(y.a)(Object(y.a)(n))),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;J().then(function(t){var n=t.map(function(e){return{id:e._id,name:e.name,elo:e.elo}});e.setState({players:n})}),H().then(function(t){var n=t.map(function(t){return{key:t._id,_id:t._id,winner_id:t.winner_id,loser_id:t.loser_id,winner_elo_change:t.winner_elo_change,loser_elo_change:t.loser_elo_change,deleteGame:e.deleteGame,isAdmin:!1}});e.setState({games:n})})}},{key:"deleteGame",value:function(e){var t=this;q(e).then(function(n){var a=Object(f.a)(t.state.games);a=a.filter(function(t){return t.props._id!==e}),t.setState({games:a,deleted:!0})})}},{key:"onDeletePlayer",value:function(e){var t=this;F(e).then(function(n){var a=Object(f.a)(t.state.players);a=a.filter(function(t){return t.id!==e}),t.setState({players:a})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(I,{players:this.state.players,delete:this.deletePlayerPopUp,isAdmin:!0}),r.a.createElement(te,{games:this.state.games,isAdmin:!0,players:this.state.players}))}}]),t}(a.Component),je=Object(h.a)(),Ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{basename:"/fortheserve",history:je},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:Oe}),r.a.createElement(m.a,{path:"/admin",component:ge})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},57:function(e,t,n){e.exports=n(107)},62:function(e,t,n){},63:function(e,t,n){},81:function(e,t){},83:function(e,t){}},[[57,1,2]]]);
//# sourceMappingURL=main.786e962d.chunk.js.map